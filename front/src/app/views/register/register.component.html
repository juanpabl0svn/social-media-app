<main class="main-register">
  <form (submit)="handleSubmit($event)" class="[view-transition-name:form]">
    <h1 class="[view-transition-name:title]">Registrarse</h1>

    <section class="[view-transition-name:user]">
      <input
        type="text"
        name="username"
        id="username"
        (input)="handleSpaces($event)"
        required
      />
      <label for="username">Usuario</label>
    </section>
    <section>
      <input
        type="email"
        name="email"
        id="email"
        (input)="handleSpaces($event)"
        required
      />
      <label for="email">Email</label>
    </section>
    <section>
      <input type="text" name="first_name" id="first_name" required />
      <label for="first_name">Nombre(s)</label>
    </section>
    <section>
      <input type="text" name="last_name" id="last_name" required />
      <label for="last_name">Apellido(s)</label>
    </section>
    <section>
      <input
        type="date"
        name="birth_date"
        min="1930-01-01"
        max="2006-12-12"
        placeholder=""
        id="date"
        required
      />
      <label for="date">Fecha nacimiento</label>
    </section>
    <section class="[view-transition-name:password]">
      <input [type]="passwordType" name="password" id="password" (input)="handleSpaces($event)" required />
      <label for="password">Contraseña</label>
      <button
        type="button"
        (click)="
          passwordType = passwordType === 'password' ? 'text' : 'password'
        "
        class="absolute right-3 -translate-y-1/2 top-1/2 p-1"
      >
        @if(passwordType === 'password'){
        <app-eye-open />
        }@else {
        <app-eye-close />
        }
      </button>
    </section>
    <section>
      <input [type]="passwordType2" name="password2" id="password2" (input)="handleSpaces($event)" required />
      <label for="password2">Repetir contraseña</label>
      <button
        type="button"
        (click)="
          passwordType2 = passwordType2 === 'password' ? 'text' : 'password'
        "
        class="absolute right-3 -translate-y-1/2 top-1/2 p-1"
      >
        @if(passwordType2 === 'password'){
        <app-eye-open />
        }@else {
        <app-eye-close />
        }
      </button>
    </section>
    <a
      routerLink="/login"
      class="text-blue-600 hover:underline mb-5 [view-transition-name:link] hover:text-blue-800"
      >¿Ya tienes una cuenta? Inicia sesión</a
    >
    <button [disabled]="loading" class="[view-transition-name:button]">Ingresar</button>
  </form>
</main>
